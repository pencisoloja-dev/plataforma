<!DOCTYPE html>
<html lang="es">

<head>
<!-- ... existing code ... -->
    <title>Formulario para Declaraci√≥n de Impuestos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Fuente Inter de Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            /* FONDO √âPICO: Gradiente radial sutil desde arriba */
            background-color: #0f172a; /* slate-900 */
            background-image: radial-gradient(circle at 50% 0, #1e293b, #0f172a 60%);
            color: #cbd5e1; /* slate-300 */
        }

        .form-section {
<!-- ... existing code ...
        /* Estilo para los inputs */
        .form-input,
        .form-select {
            background-color: #334155; /* slate-700 */
            border-color: #475569; /* slate-600 */
            color: #e2e8f0; /* slate-200 */
            border-radius: 0.5rem; /* rounded-lg */
            width: 100%;
            padding: 0.75rem 1rem;
            border-width: 1px;
            border-style: solid;
            transition: all 0.2s ease-in-out;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: #3b82f6; /* blue-500 */
            /* Efecto de anillo "glow" */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }

        /* Estilo para los labels de checkboxes */
        .checkbox-label {
            background-color: #334155; /* slate-700 */
            color: #e2e8f0; /* text-gray-200 */
            padding: 1rem;
            border-radius: 0.5rem; /* rounded-lg */
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #475569; /* slate-600 */
        }

        .checkbox-label:hover {
            background-color: #475569; /* slate-600 */
            border-color: #64748b; /* slate-500 */
        }

        .checkbox-label input[type="checkbox"] {
<!-- ... existing code ...
            color: #E53E3E; /* text-red-600 */
            font-weight: bold;
        }
        
        /* Estilos de Botones (Tema √âpico) */
        .btn {
            /* Degradado sutil para el bot√≥n principal */
            background-image: linear-gradient(to right, #3b82f6, #2563eb); /* blue-500 a blue-600 */
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem; /* rounded-lg */
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            /* Sombra sutil para dar profundidad */
            box-shadow: 0 4px 10px rgba(59, 130, 246, 0.2);
        }

        .btn:hover {
            background-image: linear-gradient(to right, #2563eb, #1d4ed8); /* blue-600 a blue-700 */
            transform: translateY(-2px);
            box-shadow: 0 6px 14px rgba(59, 130, 246, 0.3);
        }
        
        .btn-secondary {
            background-color: #475569; /* slate-600 */
            color: #e2e8f0; /* slate-200 */
            background-image: none; /* Sobrescribir gradiente */
        }

        .btn-secondary:hover {
            background-color: #64748b; /* slate-500 */
            transform: translateY(-1px);
            box-shadow: none;
        }
        
        .btn-green {
            background-image: linear-gradient(to right, #10b981, #059669); /* green-500 a green-600 */
            box-shadow: 0 4px 10px rgba(16, 185, 129, 0.2);
        }
        
        .btn-green:hover {
            background-image: linear-gradient(to right, #059669, #047857); /* green-600 a green-700 */
            box-shadow: 0 6px 14px rgba(16, 185, 129, 0.3);
        }
    </style>
</head>

<body class="text-slate-300">

    <div class="container mx-auto max-w-4xl p-4 md:p-8">

        <header class="text-center mb-10">
<!-- ... existing code ...
            <p class="text-xl text-gray-400">Trabajador Independiente</p>
        </header>

        <!-- Barra de Progreso -->
        <div class="w-full bg-gray-700 rounded-full h-2.5 mb-8">
            <div id="progressBar" class="bg-blue-600 h-2.5 rounded-full" style="width: 20%"></div>
        </div>

        <form id="taxForm" class="bg-gray-800 shadow-xl rounded-lg p-6 md:p-10">
            
            <div id="form-container">
<!-- ... existing code ...
                        </div>
                        <button type="button" id="addDependienteBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-200">
                            + A√±adir otro dependiente
                        </button>
                    </div>
<!-- ... existing code ...
                    <div class="mt-6">
                        <label class="block text-sm font-medium mb-2">6. ¬øQu√© tipo de ingresos recibiste?</label>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 bg-gray-700 p-4 rounded-lg">
                            <label class="checkbox-label"><input type="checkbox" name="tipo_ingreso" value="1099-NEC"> 1099-NEC</label>
<!-- ... existing code ...
                    <div class="mt-6">
                        <label for="files_ingresos" class="block text-sm font-medium mb-2">7. Sube aqu√≠ tus 1099, etc. (Opcional)</label>
                        <input type="file" id="files_ingresos" name="files_ingresos" class="form-input" multiple>
                    </div>
<!-- ... existing code ...
                <!-- SECCI√ìN 3: GASTOS DEDUCIBLES -->
                <div id="section-3" class="form-section">
                    <h2 class="text-2xl font-semibold mb-2 text-white">üí≥ Secci√≥n 3: Gastos deducibles</h2>
<!-- ... existing code ...
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4 bg-gray-700 p-4 rounded-lg">
                        <label class="checkbox-label"><input type="checkbox" name="gastos" value="combustible"> Combustible / Millas</label>
                        <label class="checkbox-label"><input type="checkbox" name="gastos" value="mantenimiento_vehiculo"> Mantenimiento veh√≠culo</label>
<!-- ... existing code ...
                    <div class="mt-6">
                        <label for="files_adicionales" class="block text-sm font-medium mb-2">3. Adjunta tus documentos si los tienes (Opcional)</label>
                        <input type="file" id="files_adicionales" name="files_adicionales" class="form-input" multiple>
                    </div>
<!-- ... existing code ...
            <div id="messageContainer" class="hidden mt-6 p-4 rounded-md"></div>

            <!-- Botones de Navegaci√≥n -->
            <div class="flex justify-between mt-10">
                <button type="button" id="prevBtn" class="btn btn-secondary" style="display: none;">
                    Anterior
                </button>
                <button type="button" id="nextBtn" class="btn ml-auto">
                    Siguiente
                </button>
                <button type="submit" id="submitBtn" class="btn btn-green ml-auto" style="display: none;">
                    Enviar Formulario
                </button>
            </div>
            
            <!-- Secci√≥n de Confirmaci√≥n (Oculta) -->
<!-- ... existing code ...
                <h2 class="text-3xl font-bold text-green-400 mb-4">‚úÖ ¬°Formulario Enviado!</h2>
                <p class="text-lg text-gray-300 mb-6">Gracias por completar este formulario. Esto nos ayudar√° a preparar tu declaraci√≥n de forma m√°s r√°pida y precisa.</p>
                <p class="text-gray-400">Nos pondremos en contacto contigo si necesitamos informaci√≥n adicional.</p>
                <!-- Bot√≥n para volver al admin -->
                <a href="/" class="btn mt-8">
                    &larr; Volver al Panel de Admin
                </a>
            </div>

        </form>
        
        <!-- Bot√≥n Volver a Admin (fuera del form) -->
        <div class="text-center mt-8">
            <a href="/" class="text-blue-400 hover:text-blue-300 transition-colors duration-200">
                &larr; Volver al Panel de Admin
            </a>
        </div>
    </div>

    <script>
// ... existing code ...
